---
layout: post
title: C++ Basic 笔记
subtitle: Part I 基本知识整理
tags: [basic,c++]
comments: true
categories: ['C++']
---
# C++
整理一些 c++ 有用的知识

## 有用的笔记（散乱）
1. 模版比重载更为方便，但是只适合函数元素个数相同只是类型不同的状况。

2. int 4bytes, 数组占用连续内存,例如：int[] 中的三个连续地址 -> 2000,2004,2008

3. strlen 与sizeof() 的区别：
    * strlen()函数：*_运行时才计算_* ，接受参数 char* 以'\0'结尾，返回字符串的长度    
    * sizeof()函数: *_编译时就计算好的_* ，负责计算数据空间的字节数，并不计算动态分配的内存空间的大小，返回一个静态的 object ，一般是
    结构数组所占的空间与内容无关。   
    
    
4. 直接访问与间接访问  
    * 按照变量地址直接存值的方法是直接访问  
    * 使用指针存取地址的访问方法是间接访问  
    
    
5. 数组指针与指针数组  
    * 数组指针**array pointer/ pointer to an array**: 我们用指针来获取数组中的元素。int (* ptr)[5] 指向一个含有5个元素的数组
    
      ~~~
          int main() 
      { 

          // Pointer to an array of five numbers 
          int(*a)[5]; 

          int b[5] = { 1, 2, 3, 4, 5 }; 

          int i = 0; 

          // Points to the whole array b 

          a = &b; 

          for (i = 0; i < 5; i++) 

              printf("%d\n", *(*a + i)); 

          return 0; 
      } 

      output: 1, 2, 3, 4, 5
      ~~~

   * 指针数组**array of pointers** : 我们使用数组来保存指针。 int * ptr[3];我们可以使得每个指针指向不同的变量，然后将所有指针整合到一个数组中
   
      ```c++
      #include <stdio.h> 

      const int SIZE = 3; 

      void main() 
      { 

          // creating an array 
          int arr[] = { 1, 2, 3 }; 

          // we can make an integer pointer array to 
          // storing the address of array elements 
          int i, *ptr[SIZE]; 

          for (i = 0; i < SIZE; i++) { 

              // assigning the address of integer. 
              ptr[i] = &arr[i]; 
          } 

          // printing values using pointer 
          for (i = 0; i < SIZE; i++) { 

              printf("Value of arr[%d] = %d\n", i, *ptr[i]); 
          } 
      } 
      ```

6. char* vs std:string vs char[] in C++  
    * char* :是一个指向字符串的指针
    ```c++
    char* str = "Hello World! ";
    ```
      * 优点：只需要一个一个指针就可以指向整个字符串，节省空间。并且，不需要提前生命字符串的大小。  
      * 缺点：在c++中不那么适用，会产生 warning, 在c中 char* 是一个字符的数组，但是在c++中，它们是字符的constant array，因此需要在 char* 之前
      加上 const。 我们之后不能更改字符串的内容。
      
    * string: string是c++风格中和c风格中是不同的，c风格的string是const char* 类型  
      * 优点：我们可以简便的对字符串进行操作如连接、替代等  
      
    * char[]: 与char* 很像
      * 优点：与char* 相比，字符串在之后可以进行修改  
      * 缺点： 空间是静态申请的，会消耗一个空白的空间，并且不利于连接等操作。
        
7. 函数指针：int(* f)(int a ); f = &func


8. 引用：传递的是对象，调用时候，call拷贝构造函数。


9. 共用体 _union_ ：它允许在同一内存位置存储不同的数据类型。您可以定义具有多个成员的联合，但是在任何给定时间只能有一个成员包含一个值。联合提供了一种有效的方式，可以将同一内存位置用于多种用途。
    ~~~
    union Tests
    {
       short a;
       char b[sizeof(short)];
    };
    ~~~
    
    * 大端和

   
    
      
